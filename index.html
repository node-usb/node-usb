<!DOCTYPE html><html class="default" lang="en" data-base="./"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>Node USB</title><meta name="description" content="Documentation for Node USB"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script><script async src="assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="index.html" class="title">Node USB</a><div id="tsd-toolbar-links"></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h1>Node USB</h1></div><div class="tsd-panel tsd-typography"><h1 id="usb-library-for-nodejs" class="tsd-anchor-link">USB Library for Node.JS<a href="#usb-library-for-nodejs" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p><a href="https://github.com/node-usb/node-usb/actions"><img src="https://github.com/node-usb/node-usb/workflows/prebuild/badge.svg" alt="Build Status"></a>
<a href="https://www.npmjs.com/package/usb"><img src="https://img.shields.io/npm/dm/usb.svg" alt="npm"></a>
<a href="http://opensource.org/licenses/MIT"><img src="https://img.shields.io/badge/licence-MIT-blue.svg" alt="Licence MIT"></a></p>
<p>Node.JS library for communicating with USB devices.</p>
<p>This is a refactoring / rewrite of Christopher Klein's <a href="https://github.com/schakko/node-usb">node-usb</a>.</p>
<h1 id="prerequisites" class="tsd-anchor-link">Prerequisites<a href="#prerequisites" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p><a href="https://nodejs.org">Node.js &gt;= v10.20.0</a>, which includes <code>npm</code>.</p>
<h2 id="windows" class="tsd-anchor-link">Windows<a href="#windows" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>On Windows, if you get <code>LIBUSB_ERROR_NOT_SUPPORTED</code> when attempting to open your device, it's possible your device doesn't have a WinUSB driver for libusb to use.</p>
<p>You can install one using <a href="http://zadig.akeo.ie/">Zadig</a> or another approach is to use the <a href="https://github.com/daynix/UsbDk">UsbDK Backend</a> of libusb by immediately calling <code>usb.useUsbDkBackend()</code>.</p>
<p>Note that you cannot use multiple drivers on Windows as they get exclusive access to the device. So if you want to switch between drivers (e.g. using a printer with this software or the system), you will need to uninstall/install drivers as required.</p>
<p>For further info, check <a href="https://github.com/libusb/libusb/wiki/Windows#user-content-How_to_use_libusb_on_Windows">How to use libusb on Windows</a> in the libusb's wiki.</p>
<h2 id="linux" class="tsd-anchor-link">Linux<a href="#linux" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>On Linux, you'll need libudev to build libusb if a prebuild is not available. On Ubuntu/Debian:</p>
<pre><code class="bash"><span class="hl-0">sudo</span><span class="hl-1"> </span><span class="hl-2">apt-get</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-2">build-essential</span><span class="hl-1"> </span><span class="hl-2">libudev-dev</span>
</code><button type="button">Copy</button></pre>

<p>You may need to modify your udev and permission rules in order to access your desired device. Along the lines of:</p>
<p>SUBSYSTEM==&quot;usb&quot;, ATTR{idVendor}==&quot;USB-VENDOR-ID&quot;, ATTR{idProduct}==&quot;USB-PRODUCT-ID&quot;, MODE=&quot;0660&quot;, GROUP=&quot;GROUP-YOUR-USER-IS-IN&quot;</p>
<h1 id="troubleshooting" class="tsd-anchor-link">Troubleshooting<a href="#troubleshooting" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>For libusb issues, please refer to the FAQ at <a href="https://github.com/libusb/libusb/wiki/FAQ">https://github.com/libusb/libusb/wiki/FAQ</a></p>
<h1 id="installation" class="tsd-anchor-link">Installation<a href="#installation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>Native modules are bundled using <code>prebuildify</code>, so installation should be as simple as installing the package.</p>
<p>With <code>npm</code>:</p>
<pre><code class="bash"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-2">usb</span>
</code><button type="button">Copy</button></pre>

<p>With <code>yarn</code>:</p>
<pre><code class="bash"><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-2">add</span><span class="hl-1"> </span><span class="hl-2">usb</span>
</code><button type="button">Copy</button></pre>

<p><strong>Note:</strong> the library is now written in <code>TypeScript</code>, so a separate types file is not longer required to be installed (e.g. don't install <code>@types/usb</code>).</p>
<h1 id="license" class="tsd-anchor-link">License<a href="#license" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p><a href="LICENSE.md">MIT</a></p>
<p>Note that the compiled Node extension includes <a href="https://github.com/libusb/libusb">libusb</a>, and is thus subject to the <a href="https://github.com/libusb/libusb/blob/main/COPYING">LGPL</a>.</p>
<h1 id="limitations" class="tsd-anchor-link">Limitations<a href="#limitations" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>Does not support:</p>
<ul>
<li>Configurations other than the default one</li>
<li>Isochronous transfers</li>
</ul>
<h1 id="getting-started" class="tsd-anchor-link">Getting Started<a href="#getting-started" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>Use the following examples to kickstart your development. Once you have a desired device, use the APIs below to interact with it.</p>
<h2 id="migrating-to" class="tsd-anchor-link">Migrating to <code>v2.0.0</code><a href="#migrating-to" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The legacy API exists on an object called <code>usb</code> on the main import and the convenience functions exist as top level objects.</p>
<p>To use <code>v2.0.0</code> simply update your import statements and the function calls;</p>
<pre><code class="typescript"><span class="hl-3">// import * as usb from &#39;usb&#39;;</span><br/><span class="hl-3">// const devices: usb.Device[] = usb.getDeviceList();</span><br/><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">usb</span><span class="hl-1">, </span><span class="hl-5">getDeviceList</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;usb&#39;</span><span class="hl-1">;</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">devices</span><span class="hl-1">: </span><span class="hl-8">usb</span><span class="hl-1">.</span><span class="hl-8">Device</span><span class="hl-1">[] = </span><span class="hl-0">getDeviceList</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<h2 id="list-all-legacy-devices" class="tsd-anchor-link">List all legacy devices<a href="#list-all-legacy-devices" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">getDeviceList</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;usb&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">devices</span><span class="hl-1"> = </span><span class="hl-0">getDeviceList</span><span class="hl-1">();</span><br/><br/><span class="hl-4">for</span><span class="hl-1"> (</span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">device</span><span class="hl-1"> </span><span class="hl-6">of</span><span class="hl-1"> </span><span class="hl-5">devices</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-5">device</span><span class="hl-1">); </span><span class="hl-3">// Legacy device</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h2 id="find-legacy-device-by-vidpid" class="tsd-anchor-link">Find legacy device by vid/pid<a href="#find-legacy-device-by-vidpid" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">findByIds</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;usb&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">device</span><span class="hl-1"> = </span><span class="hl-0">findByIds</span><span class="hl-1">(</span><span class="hl-9">0x59e3</span><span class="hl-1">, </span><span class="hl-9">0x0a23</span><span class="hl-1">);</span><br/><br/><span class="hl-4">if</span><span class="hl-1"> (</span><span class="hl-5">device</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-5">device</span><span class="hl-1">); </span><span class="hl-3">// Legacy device</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h2 id="find-legacy-device-by-serialnumber" class="tsd-anchor-link">Find legacy device by SerialNumber<a href="#find-legacy-device-by-serialnumber" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">findBySerialNumber</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;usb&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">(</span><span class="hl-6">async</span><span class="hl-1"> () </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">// Uses a blocking call, so is async</span><br/><span class="hl-1">    </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">device</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-0">findBySerialNumber</span><span class="hl-1">(</span><span class="hl-2">&#39;TEST_DEVICE&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-1">    </span><span class="hl-4">if</span><span class="hl-1"> (</span><span class="hl-5">device</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-5">device</span><span class="hl-1">); </span><span class="hl-3">// Legacy device</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">})();</span>
</code><button type="button">Copy</button></pre>

<h2 id="turn-legacy-device-into-webusb-compatible-device" class="tsd-anchor-link">Turn legacy Device into WebUSB compatible device<a href="#turn-legacy-device-into-webusb-compatible-device" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">findBySerialNumber</span><span class="hl-1">, </span><span class="hl-5">WebUSBDevice</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;usb&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">(</span><span class="hl-6">async</span><span class="hl-1"> () </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">// Uses a blocking call, so is async</span><br/><span class="hl-1">    </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">device</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-0">findBySerialNumber</span><span class="hl-1">(</span><span class="hl-2">&#39;TEST_DEVICE&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-1">    </span><span class="hl-3">// Uses blocking calls, so is async</span><br/><span class="hl-1">    </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">webDevice</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">WebUSBDevice</span><span class="hl-1">.</span><span class="hl-0">createInstance</span><span class="hl-1">(</span><span class="hl-5">device</span><span class="hl-1">);</span><br/><br/><span class="hl-1">    </span><span class="hl-4">if</span><span class="hl-1"> (</span><span class="hl-5">webDevice</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-5">webDevice</span><span class="hl-1">); </span><span class="hl-3">// WebUSB device</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">})();</span>
</code><button type="button">Copy</button></pre>

<h2 id="use-webusb-approach-to-find-a-device" class="tsd-anchor-link">Use WebUSB approach to find a device<a href="#use-webusb-approach-to-find-a-device" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">webusb</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;usb&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">(</span><span class="hl-6">async</span><span class="hl-1"> () </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">// Returns first matching device</span><br/><span class="hl-1">    </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">device</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">webusb</span><span class="hl-1">.</span><span class="hl-0">requestDevice</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-5">filters:</span><span class="hl-1"> [{}]</span><br/><span class="hl-1">    })</span><br/><br/><span class="hl-1">    </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-5">device</span><span class="hl-1">); </span><span class="hl-3">// WebUSB device</span><br/><span class="hl-1">})();</span>
</code><button type="button">Copy</button></pre>

<h2 id="use-webusb-approach-to-find-a-device-with-custom-selection-method" class="tsd-anchor-link">Use WebUSB approach to find a device with custom selection method<a href="#use-webusb-approach-to-find-a-device-with-custom-selection-method" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">WebUSB</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;usb&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">(</span><span class="hl-6">async</span><span class="hl-1"> () </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">customWebUSB</span><span class="hl-1"> = </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">WebUSB</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-3">// This function can return a promise which allows a UI to be displayed if required</span><br/><span class="hl-1">        </span><span class="hl-0">devicesFound</span><span class="hl-5">:</span><span class="hl-1"> </span><span class="hl-5">devices</span><span class="hl-1"> </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-5">devices</span><span class="hl-1">.</span><span class="hl-0">find</span><span class="hl-1">(</span><span class="hl-5">device</span><span class="hl-1"> </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-5">device</span><span class="hl-1">.</span><span class="hl-5">serialNumber</span><span class="hl-1"> === </span><span class="hl-2">&#39;TEST_DEVICE&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">    });</span><br/><br/><span class="hl-1">    </span><span class="hl-3">// Returns device based on injected &#39;devicesFound&#39; function</span><br/><span class="hl-1">    </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">device</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">customWebUSB</span><span class="hl-1">.</span><span class="hl-0">requestDevice</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-5">filters:</span><span class="hl-1"> [{}]</span><br/><span class="hl-1">    })</span><br/><br/><span class="hl-1">    </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-5">device</span><span class="hl-1">); </span><span class="hl-3">// WebUSB device</span><br/><span class="hl-1">})();</span>
</code><button type="button">Copy</button></pre>

<h2 id="use-webusb-approach-to-list-authorised-devices" class="tsd-anchor-link">Use WebUSB approach to list authorised devices<a href="#use-webusb-approach-to-list-authorised-devices" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">webusb</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;usb&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">(</span><span class="hl-6">async</span><span class="hl-1"> () </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">// The default webusb instance follows the WebUSB spec and only returns authorised devices</span><br/><span class="hl-1">    </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">devices</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">webusb</span><span class="hl-1">.</span><span class="hl-0">getDevices</span><span class="hl-1">();</span><br/><br/><span class="hl-1">    </span><span class="hl-4">for</span><span class="hl-1"> (</span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">device</span><span class="hl-1"> </span><span class="hl-6">of</span><span class="hl-1"> </span><span class="hl-5">devices</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-5">device</span><span class="hl-1">); </span><span class="hl-3">// WebUSB device</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">})();</span>
</code><button type="button">Copy</button></pre>

<h2 id="use-webusb-approach-to-list-all-devices" class="tsd-anchor-link">Use WebUSB approach to list all devices<a href="#use-webusb-approach-to-list-all-devices" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">WebUSB</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;usb&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">(</span><span class="hl-6">async</span><span class="hl-1"> () </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">customWebUSB</span><span class="hl-1"> = </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">WebUSB</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-3">// Bypass checking for authorised devices</span><br/><span class="hl-1">        </span><span class="hl-5">allowAllDevices:</span><span class="hl-1"> </span><span class="hl-6">true</span><br/><span class="hl-1">    });</span><br/><br/><span class="hl-1">    </span><span class="hl-3">// Uses blocking calls, so is async</span><br/><span class="hl-1">    </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">devices</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">customWebUSB</span><span class="hl-1">.</span><span class="hl-0">getDevices</span><span class="hl-1">();</span><br/><br/><span class="hl-1">    </span><span class="hl-4">for</span><span class="hl-1"> (</span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">device</span><span class="hl-1"> </span><span class="hl-6">of</span><span class="hl-1"> </span><span class="hl-5">devices</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-5">device</span><span class="hl-1">); </span><span class="hl-3">// WebUSB device</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">})();</span>
</code><button type="button">Copy</button></pre>

<h2 id="electron" class="tsd-anchor-link">Electron<a href="#electron" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Please refer to the maintained example for using <code>node-usb</code> in electron:</p>
<p><a href="https://github.com/node-usb/node-usb-example-electron">https://github.com/node-usb/node-usb-example-electron</a></p>
<p>If using a packaging system for electron, ensure the <code>node-usb</code> library does not get recompiled as the correct binaries are already shipped with the package. For example, for <a href="https://www.electron.build/">electron-builder</a>, use these settings:</p>
<ul>
<li>buildDependenciesFromSource: true</li>
<li>nodeGypRebuild: false</li>
<li>npmRebuild: false</li>
</ul>
<h1 id="apis" class="tsd-anchor-link">APIs<a href="#apis" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>Since <code>v2.0.0</code>, the <code>node-usb</code> library supports two APIs:</p>
<ul>
<li><code>WebUSB</code> which follows the <a href="https://wicg.github.io/webusb/">WebUSB Specification</a> (recommended)</li>
<li><code>Legacy API</code> which retains the previous 'non-blocking' API</li>
</ul>
<p>Convenience methods also exist to easily list or find devices as well as convert between a legacy usb.Device device and WebUSB device.</p>
<p>Full auto-generated API documentation can be seen here:</p>
<p><a href="https://node-usb.github.io/node-usb/">https://node-usb.github.io/node-usb/</a></p>
<h2 id="convenience-functions" class="tsd-anchor-link">Convenience Functions<a href="#convenience-functions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="getdevicelist-1" class="tsd-anchor-link">getDeviceList()<a href="#getdevicelist-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Return a list of legacy <code>Device</code> objects for the USB devices attached to the system.</p>
<h3 id="findbyidsvid-pid" class="tsd-anchor-link">findByIds(vid, pid)<a href="#findbyidsvid-pid" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Convenience method to get the first legacy device with the specified VID and PID, or <code>undefined</code> if no such device is present.</p>
<h3 id="findbyserialnumberserialnumber" class="tsd-anchor-link">findBySerialNumber(serialNumber)<a href="#findbyserialnumberserialnumber" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Convenience method to get a promise of the legacy device with the specified serial number, or <code>undefined</code> if no such device is present.</p>
<h3 id="getwebusb" class="tsd-anchor-link">getWebUsb()<a href="#getwebusb" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Return the <code>navigator.usb</code> instance if it exists, otherwise a <code>webusb</code> instance.</p>
<h3 id="webusbdevice" class="tsd-anchor-link">WebUSBDevice<a href="#webusbdevice" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>WebUSB Device class for wrapping a legacy Device into a WebUSB device</p>
<h4 id="webusbdevicecreateinstancedevice" class="tsd-anchor-link">WebUSBDevice.createInstance(device)<a href="#webusbdevicecreateinstancedevice" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Convenience method to return a promise of a WebUSB device based on a legacy device</p>
<h2 id="webusb" class="tsd-anchor-link">WebUSB<a href="#webusb" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Please refer to the WebUSB specification which be found here:</p>
<p><a href="https://wicg.github.io/webusb/">https://wicg.github.io/webusb/</a></p>
<h3 id="implementation-status" class="tsd-anchor-link">Implementation Status<a href="#implementation-status" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><h4 id="usb" class="tsd-anchor-link">USB<a href="#usb" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><ul>
<li>[x] getDevices()</li>
<li>[x] requestDevice()</li>
</ul>
<h4 id="usbdevice" class="tsd-anchor-link">USBDevice<a href="#usbdevice" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><ul>
<li>[x] usbVersionMajor</li>
<li>[x] usbVersionMinor</li>
<li>[x] usbVersionSubminor</li>
<li>[x] deviceClass</li>
<li>[x] deviceSubclass</li>
<li>[x] deviceProtocol</li>
<li>[x] vendorId</li>
<li>[x] productId</li>
<li>[x] deviceVersionMajor</li>
<li>[x] deviceVersionMinor</li>
<li>[x] deviceVersionSubminor</li>
<li>[x] manufacturerName</li>
<li>[x] productName</li>
<li>[x] serialNumber</li>
<li>[x] configuration</li>
<li>[x] configurations</li>
<li>[x] opened</li>
<li>[x] open()</li>
<li>[x] close()</li>
<li>[x] selectConfiguration()</li>
<li>[x] claimInterface()</li>
<li>[x] releaseInterface()</li>
<li>[x] selectAlternateInterface()</li>
<li>[x] controlTransferIn()</li>
<li>[x] controlTransferOut() - <code>bytesWritten</code> always equals the initial buffer length</li>
<li>[x] transferIn()</li>
<li>[x] transferOut() - <code>bytesWritten</code> always equals the initial buffer length</li>
<li>[x] clearHalt()</li>
<li>[x] reset()</li>
<li>[ ] isochronousTransferIn()</li>
<li>[ ] isochronousTransferOut()</li>
<li>[ ] forget()</li>
</ul>
<h4 id="events" class="tsd-anchor-link">Events<a href="#events" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><ul>
<li>[x] connect</li>
<li>[x] disconnect</li>
</ul>
<h2 id="legacy-api" class="tsd-anchor-link">Legacy API<a href="#legacy-api" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="usb-1" class="tsd-anchor-link">usb<a href="#usb-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Legacy usb object.</p>
<h4 id="usblibusb_" class="tsd-anchor-link">usb.LIBUSB_*<a href="#usblibusb_" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Constant properties from libusb</p>
<h4 id="usbgetdevicelist" class="tsd-anchor-link">usb.getDeviceList()<a href="#usbgetdevicelist" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Return a list of legacy <code>Device</code> objects for the USB devices attached to the system.</p>
<h4 id="usbpollhotplug" class="tsd-anchor-link">usb.pollHotplug<a href="#usbpollhotplug" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Force polling loop for hotplug events.</p>
<h4 id="usbsetdebuglevellevel-int" class="tsd-anchor-link">usb.setDebugLevel(level : int)<a href="#usbsetdebuglevellevel-int" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Set the libusb debug level (between 0 and 4)</p>
<h4 id="usbuseusbdkbackend" class="tsd-anchor-link">usb.useUsbDkBackend()<a href="#usbuseusbdkbackend" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>On Windows, use the USBDK backend of libusb instead of WinUSB</p>
<h3 id="device-1" class="tsd-anchor-link">Device<a href="#device-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Represents a USB device.</p>
<h4 id="busnumber" class="tsd-anchor-link">.busNumber<a href="#busnumber" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Integer USB device number</p>
<h4 id="deviceaddress" class="tsd-anchor-link">.deviceAddress<a href="#deviceaddress" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Integer USB device address</p>
<h4 id="portnumbers" class="tsd-anchor-link">.portNumbers<a href="#portnumbers" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Array containing the USB device port numbers, or <code>undefined</code> if not supported on this platform.</p>
<h4 id="devicedescriptor" class="tsd-anchor-link">.deviceDescriptor<a href="#devicedescriptor" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Object with properties for the fields of the device descriptor:</p>
<ul>
<li>bLength</li>
<li>bDescriptorType</li>
<li>bcdUSB</li>
<li>bDeviceClass</li>
<li>bDeviceSubClass</li>
<li>bDeviceProtocol</li>
<li>bMaxPacketSize0</li>
<li>idVendor</li>
<li>idProduct</li>
<li>bcdDevice</li>
<li>iManufacturer</li>
<li>iProduct</li>
<li>iSerialNumber</li>
<li>bNumConfigurations</li>
</ul>
<h4 id="configdescriptor" class="tsd-anchor-link">.configDescriptor<a href="#configdescriptor" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Object with properties for the fields of the configuration descriptor:</p>
<ul>
<li>bLength</li>
<li>bDescriptorType</li>
<li>wTotalLength</li>
<li>bNumInterfaces</li>
<li>bConfigurationValue</li>
<li>iConfiguration</li>
<li>bmAttributes</li>
<li>bMaxPower</li>
<li>extra (Buffer containing any extra data or additional descriptors)</li>
</ul>
<h4 id="allconfigdescriptors" class="tsd-anchor-link">.allConfigDescriptors<a href="#allconfigdescriptors" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Contains all config descriptors of the device (same structure as .configDescriptor above)</p>
<h4 id="parent" class="tsd-anchor-link">.parent<a href="#parent" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Contains the parent of the device, such as a hub. If there is no parent this property is set to <code>null</code>.</p>
<h4 id="open" class="tsd-anchor-link">.open()<a href="#open" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Open the device. All methods below require the device to be open before use.</p>
<h4 id="close" class="tsd-anchor-link">.close()<a href="#close" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Close the device.</p>
<h4 id="controltransferbmrequesttype-brequest-wvalue-windex-data_or_length-callbackerror-data" class="tsd-anchor-link">.controlTransfer(bmRequestType, bRequest, wValue, wIndex, data_or_length, callback(error, data))<a href="#controltransferbmrequesttype-brequest-wvalue-windex-data_or_length-callbackerror-data" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Perform a control transfer with <code>libusb_control_transfer</code>.</p>
<p>Parameter <code>data_or_length</code> can be a integer length for an IN transfer, or a Buffer for an out transfer. The type must match the direction specified in the MSB of bmRequestType.</p>
<p>The <code>data</code> parameter of the callback is always undefined for OUT transfers, or will be passed a Buffer for IN transfers.</p>
<p>A <a href="https://www.npmjs.com/package/bmrequesttype">package is available to calculate bmRequestType</a> if needed.</p>
<h4 id="setconfigurationid-callbackerror" class="tsd-anchor-link">.setConfiguration(id, callback(error))<a href="#setconfigurationid-callbackerror" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Set the device configuration to something other than the default (0). To use this, first call <code>.open(false)</code> (which tells it not to auto configure), then before claiming an interface, call this method.</p>
<h4 id="getstringdescriptorindex-callbackerror-data" class="tsd-anchor-link">.getStringDescriptor(index, callback(error, data))<a href="#getstringdescriptorindex-callbackerror-data" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Perform a control transfer to retrieve a string descriptor</p>
<h4 id="getbosdescriptorcallbackerror-bosdescriptor" class="tsd-anchor-link">.getBosDescriptor(callback(error, bosDescriptor))<a href="#getbosdescriptorcallbackerror-bosdescriptor" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Perform a control transfer to retrieve an object with properties for the fields of the Binary Object Store descriptor:</p>
<ul>
<li>bLength</li>
<li>bDescriptorType</li>
<li>wTotalLength</li>
<li>bNumDeviceCaps</li>
</ul>
<h4 id="getcapabilitiescallbackerror-capabilities" class="tsd-anchor-link">.getCapabilities(callback(error, capabilities))<a href="#getcapabilitiescallbackerror-capabilities" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Retrieve a list of Capability objects for the Binary Object Store capabilities of the device.</p>
<h4 id="interfaceinterface" class="tsd-anchor-link">.interface(interface)<a href="#interfaceinterface" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Return the interface with the specified interface number.</p>
<h4 id="interfaces" class="tsd-anchor-link">.interfaces<a href="#interfaces" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>List of Interface objects for the interfaces of the default configuration of the device.</p>
<h4 id="timeout" class="tsd-anchor-link">.timeout<a href="#timeout" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Timeout in milliseconds to use for control transfers.</p>
<h4 id="resetcallbackerror" class="tsd-anchor-link">.reset(callback(error))<a href="#resetcallbackerror" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Performs a reset of the device. Callback is called when complete.</p>
<h4 id="setautodetachkerneldriverenable" class="tsd-anchor-link">.setAutoDetachKernelDriver(enable)<a href="#setautodetachkerneldriverenable" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Enable/disable libusb's automatic kernel driver detachment (defaults to true in the WebUSB API for non-Windows platforms)</p>
<h3 id="interface" class="tsd-anchor-link">Interface<a href="#interface" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><h4 id="endpointaddress" class="tsd-anchor-link">.endpoint(address)<a href="#endpointaddress" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Return the InEndpoint or OutEndpoint with the specified address.</p>
<h4 id="endpoints" class="tsd-anchor-link">.endpoints<a href="#endpoints" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>List of endpoints on this interface: InEndpoint and OutEndpoint objects.</p>
<h4 id="interface-1" class="tsd-anchor-link">.interface<a href="#interface-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Integer interface number.</p>
<h4 id="altsetting" class="tsd-anchor-link">.altSetting<a href="#altsetting" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Integer alternate setting number.</p>
<h4 id="setaltsettingaltsetting-callbackerror" class="tsd-anchor-link">.setAltSetting(altSetting, callback(error))<a href="#setaltsettingaltsetting-callbackerror" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Sets the alternate setting. It updates the <code>interface.endpoints</code> array to reflect the endpoints found in the alternate setting.</p>
<h4 id="claim" class="tsd-anchor-link">.claim()<a href="#claim" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Claims the interface. This method must be called before using any endpoints of this interface.</p>
<h4 id="releasecloseendpoints-callbackerror" class="tsd-anchor-link">.release([closeEndpoints], callback(error))<a href="#releasecloseendpoints-callbackerror" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Releases the interface and resets the alternate setting. Calls callback when complete.</p>
<p>It is an error to release an interface with pending transfers. If the optional closeEndpoints parameter is true, any active endpoint streams are stopped (see <code>Endpoint.stopStream</code>), and the interface is released after the stream transfers are cancelled. Transfers submitted individually with <code>Endpoint.transfer</code> are not affected by this parameter.</p>
<h4 id="iskerneldriveractive" class="tsd-anchor-link">.isKernelDriverActive()<a href="#iskerneldriveractive" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Returns <code>false</code> if a kernel driver is not active; <code>true</code> if active.</p>
<h4 id="detachkerneldriver" class="tsd-anchor-link">.detachKernelDriver()<a href="#detachkerneldriver" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Detaches the kernel driver from the interface.
If a <code>LIBUSB_ERROR_ACCESS</code> error is raised, you may need to execute this with elevated privileges.</p>
<h4 id="attachkerneldriver" class="tsd-anchor-link">.attachKernelDriver()<a href="#attachkerneldriver" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Re-attaches the kernel driver for the interface.</p>
<h4 id="descriptor" class="tsd-anchor-link">.descriptor<a href="#descriptor" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Object with fields from the interface descriptor -- see libusb documentation or USB spec.</p>
<ul>
<li>bLength</li>
<li>bDescriptorType</li>
<li>bInterfaceNumber</li>
<li>bAlternateSetting</li>
<li>bNumEndpoints</li>
<li>bInterfaceClass</li>
<li>bInterfaceSubClass</li>
<li>bInterfaceProtocol</li>
<li>iInterface</li>
<li>extra (Buffer containing any extra data or additional descriptors)</li>
</ul>
<h3 id="capability" class="tsd-anchor-link">Capability<a href="#capability" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><h4 id="type" class="tsd-anchor-link">.type<a href="#type" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Integer capability type.</p>
<h4 id="data" class="tsd-anchor-link">.data<a href="#data" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Buffer capability data.</p>
<h4 id="descriptor-1" class="tsd-anchor-link">.descriptor<a href="#descriptor-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Object with fields from the capability descriptor -- see libusb documentation or USB spec.</p>
<ul>
<li>bLength</li>
<li>bDescriptorType</li>
<li>bDevCapabilityType</li>
</ul>
<h3 id="endpoint" class="tsd-anchor-link">Endpoint<a href="#endpoint" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Common base for InEndpoint and OutEndpoint, see below.</p>
<h4 id="direction" class="tsd-anchor-link">.direction<a href="#direction" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Endpoint direction: <code>&quot;in&quot;</code> or <code>&quot;out&quot;</code>.</p>
<h4 id="transfertype" class="tsd-anchor-link">.transferType<a href="#transfertype" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Endpoint type: <code>usb.LIBUSB_TRANSFER_TYPE_BULK</code>, <code>usb.LIBUSB_TRANSFER_TYPE_INTERRUPT</code>, or <code>usb.LIBUSB_TRANSFER_TYPE_ISOCHRONOUS</code>.</p>
<h4 id="descriptor-2" class="tsd-anchor-link">.descriptor<a href="#descriptor-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Object with fields from the endpoint descriptor -- see libusb documentation or USB spec.</p>
<ul>
<li>bLength</li>
<li>bDescriptorType</li>
<li>bEndpointAddress</li>
<li>bmAttributes</li>
<li>wMaxPacketSize</li>
<li>bInterval</li>
<li>bRefresh</li>
<li>bSynchAddress</li>
<li>extra (Buffer containing any extra data or additional descriptors)</li>
</ul>
<h4 id="timeout-1" class="tsd-anchor-link">.timeout<a href="#timeout-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Sets the timeout in milliseconds for transfers on this endpoint. The default, <code>0</code>, is infinite timeout.</p>
<h4 id="clearhaltcallbackerror" class="tsd-anchor-link">.clearHalt(callback(error))<a href="#clearhaltcallbackerror" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Clear the halt/stall condition for this endpoint.</p>
<h3 id="inendpoint" class="tsd-anchor-link">InEndpoint<a href="#inendpoint" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Endpoints in the IN direction (device-&gt;PC) have this type.</p>
<h4 id="transferlength-callbackerror-data" class="tsd-anchor-link">.transfer(length, callback(error, data))<a href="#transferlength-callbackerror-data" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Perform a transfer to read data from the endpoint.</p>
<p>If length is greater than maxPacketSize, libusb will automatically split the transfer in multiple packets, and you will receive one callback with all data once all packets are complete.</p>
<p><code>this</code> in the callback is the InEndpoint object.</p>
<h4 id="startpollntransfers3-transfersizemaxpacketsize" class="tsd-anchor-link">.startPoll(nTransfers=3, transferSize=maxPacketSize)<a href="#startpollntransfers3-transfersizemaxpacketsize" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Start polling the endpoint.</p>
<p>The library will keep <code>nTransfers</code> transfers of size <code>transferSize</code> pending in
the kernel at all times to ensure continuous data flow. This is handled by the
libusb event thread, so it continues even if the Node v8 thread is busy. The
<code>data</code> and <code>error</code> events are emitted as transfers complete.</p>
<h4 id="stoppollcb" class="tsd-anchor-link">.stopPoll(cb)<a href="#stoppollcb" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Stop polling.</p>
<p>Further data may still be received. The <code>end</code> event is emitted and the callback
is called once all transfers have completed or canceled.</p>
<h4 id="event-datadata-buffer" class="tsd-anchor-link">Event: data(data : Buffer)<a href="#event-datadata-buffer" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Emitted with data received by the polling transfers</p>
<h4 id="event-errorerror" class="tsd-anchor-link">Event: error(error)<a href="#event-errorerror" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Emitted when polling encounters an error. All in flight transfers will be automatically canceled and no further polling will be done. You have to wait for the <code>end</code> event before you can start polling again.</p>
<h4 id="event-end" class="tsd-anchor-link">Event: end<a href="#event-end" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Emitted when polling has been canceled</p>
<h3 id="outendpoint" class="tsd-anchor-link">OutEndpoint<a href="#outendpoint" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Endpoints in the OUT direction (PC-&gt;device) have this type.</p>
<h4 id="transferdata-callbackerror" class="tsd-anchor-link">.transfer(data, callback(error))<a href="#transferdata-callbackerror" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Perform a transfer to write <code>data</code> to the endpoint.</p>
<p>If length is greater than maxPacketSize, libusb will automatically split the transfer in multiple packets, and you will receive one callback once all packets are complete.</p>
<p><code>this</code> in the callback is the OutEndpoint object.</p>
<h4 id="event-errorerror-1" class="tsd-anchor-link">Event: error(error)<a href="#event-errorerror-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Emitted when the stream encounters an error.</p>
<h4 id="event-end-1" class="tsd-anchor-link">Event: end<a href="#event-end-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Emitted when the stream has been stopped and all pending requests have been completed.</p>
<h3 id="usbdetection" class="tsd-anchor-link">UsbDetection<a href="#usbdetection" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><h4 id="usbonattach-functiondevice-" class="tsd-anchor-link">usb.on('attach', function(device) { ... });<a href="#usbonattach-functiondevice-" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Attaches a callback to plugging in a <code>device</code>.</p>
<h4 id="usbondetach-functiondevice-" class="tsd-anchor-link">usb.on('detach', function(device) { ... });<a href="#usbondetach-functiondevice-" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Attaches a callback to unplugging a <code>device</code>.</p>
<h4 id="usbrefhotplugevents" class="tsd-anchor-link">usb.refHotplugEvents();<a href="#usbrefhotplugevents" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Restore (re-reference) the hotplug events unreferenced by <code>unrefHotplugEvents()</code></p>
<h4 id="usbunrefhotplugevents" class="tsd-anchor-link">usb.unrefHotplugEvents();<a href="#usbunrefhotplugevents" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Listening to events will prevent the process to exit. By calling this function, hotplug events will be unreferenced by the event loop, allowing the process to exit even when listening for the <code>attach</code> and <code>detach</code> events.</p>
<h1 id="migrating-from-node-usb-detection" class="tsd-anchor-link">Migrating from node-usb-detection<a href="#migrating-from-node-usb-detection" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>If you have been referred here by <code>node-usb-detection</code>, the following may be helpful for you to update your existing code.</p>
<h2 id="usbdetectstartmonitoring-usbdetectstopmonitoring" class="tsd-anchor-link">usbDetect.startMonitoring() &amp; usbDetect.stopMonitoring()<a href="#usbdetectstartmonitoring-usbdetectstopmonitoring" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>There is no direct equivalent to these methods. This is handled automatically for you when you add and remove event listeners.</p>
<p>You may find <code>usb.unrefHotplugEvents()</code> useful as it is intended to help with exit conditions.</p>
<h2 id="usbdetectfind" class="tsd-anchor-link">usbDetect.find()<a href="#usbdetectfind" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>You can instead use <code>usb.getDeviceList()</code>. Be aware that this will do an enumeration to find all of the devices, and not look at a cache of the known devices. If you call it too often it may have a performance impact.</p>
<p>To find a specific device by vid and pid, call <code>usb.findByIds</code>. e.g. <code>usb.findByIds(0x12, 0x34)</code>.</p>
<h2 id="usbdetectonadd-functiondevice-" class="tsd-anchor-link">usbDetect.on('add', function(device) { ... })<a href="#usbdetectonadd-functiondevice-" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>These should be changed to <code>usb.on('attach', function(device) { ... })</code>.</p>
<p>There is no equivalent to filter based on the vid or pid, instead you should do a check inside the callback you provide.<br>
The contents of the device object has also changed.</p>
<h2 id="usbdetectonremove-functiondevice-" class="tsd-anchor-link">usbDetect.on('remove', function(device) { ... })<a href="#usbdetectonremove-functiondevice-" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>These should be changed to <code>usb.on('detach', function(device) { ... })</code>.</p>
<p>There is no equivalent to filter based on the vid or pid, instead you should do a check inside the callback you provide.<br>
The contents of the device object has also changed.</p>
<h2 id="usbdetectonchange-functiondevice-" class="tsd-anchor-link">usbDetect.on('change', function(device) { ... })<a href="#usbdetectonchange-functiondevice-" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>There is no direct equivalent to this. Instead you can listen to both <code>attach</code> and <code>detach</code> to get the same behaviour.</p>
<h1 id="development" class="tsd-anchor-link">Development<a href="#development" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>The library is based on native bindings wrapping the <a href="https://github.com/libusb/libusb">libusb</a> library.</p>
<h2 id="setup" class="tsd-anchor-link">Setup<a href="#setup" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Libusb is included as a submodule, clone this repository and then the submodule as follows:</p>
<pre><code class="bash"><span class="hl-0">git</span><span class="hl-1"> </span><span class="hl-2">clone</span><span class="hl-1"> </span><span class="hl-2">https://github.com/node-usb/node-usb</span><br/><span class="hl-0">cd</span><span class="hl-1"> </span><span class="hl-2">node-usb</span><br/><span class="hl-0">git</span><span class="hl-1"> </span><span class="hl-2">submodule</span><span class="hl-1"> </span><span class="hl-2">update</span><span class="hl-1"> </span><span class="hl-6">--init</span>
</code><button type="button">Copy</button></pre>

<p>Alternatively, if you want to build this library against your system <code>libusb</code> set the <code>use_system_libusb</code> variable to <code>true</code> in the <a href="media/binding.gyp">binding.gyp</a> and <a href="media/libusb.gypi">libusb.gypi</a> files.</p>
<h2 id="building" class="tsd-anchor-link">Building<a href="#building" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The package uses <code>prebuildify</code> to generate the native binaries using an <code>install</code> script and <code>TypeScript</code> for the binding code using the <code>compile</code> script. The package can be built as follows:</p>
<pre><code class="bash"><span class="hl-0">yarn</span><br/><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-2">compile</span>
</code><button type="button">Copy</button></pre>

<p>The native binaries can be rebuilt with:</p>
<pre><code class="bash"><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-2">rebuild</span>
</code><button type="button">Copy</button></pre>

<p><strong>Note:</strong> On Linux, you'll need libudev to build libusb. On Ubuntu/Debian:</p>
<pre><code class="bash"><span class="hl-0">sudo</span><span class="hl-1"> </span><span class="hl-2">apt-get</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-2">build-essential</span><span class="hl-1"> </span><span class="hl-2">libudev-dev</span>
</code><button type="button">Copy</button></pre>

<h2 id="testing" class="tsd-anchor-link">Testing<a href="#testing" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>To execute the unit tests, Run:</p>
<pre><code class="bash"><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-2">test</span>
</code><button type="button">Copy</button></pre>

<p>Some tests require an <a href="https://github.com/node-usb/node-usb-test-firmware">attached STM32F103 Microprocessor USB device with specific firmware</a>.</p>
<pre><code class="bash"><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-2">full-test</span><br/><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-2">valgrind</span>
</code><button type="button">Copy</button></pre>

<h2 id="releasing" class="tsd-anchor-link">Releasing<a href="#releasing" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Please refer to the <a href="https://github.com/node-usb/node-usb/wiki/Release-Process">Wiki</a> for release instructions.</p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#usb-library-for-nodejs"><span>USB <wbr/>Library for <wbr/>Node.<wbr/>JS</span></a><a href="#prerequisites"><span>Prerequisites</span></a><ul><li><a href="#windows"><span>Windows</span></a></li><li><a href="#linux"><span>Linux</span></a></li></ul><a href="#troubleshooting"><span>Troubleshooting</span></a><a href="#installation"><span>Installation</span></a><a href="#license"><span>License</span></a><a href="#limitations"><span>Limitations</span></a><a href="#getting-started"><span>Getting <wbr/>Started</span></a><ul><li><a href="#migrating-to"><span>Migrating to </span></a></li><li><a href="#list-all-legacy-devices"><span>List all legacy devices</span></a></li><li><a href="#find-legacy-device-by-vidpid"><span>Find legacy device by vid/pid</span></a></li><li><a href="#find-legacy-device-by-serialnumber"><span>Find legacy device by <wbr/>Serial<wbr/>Number</span></a></li><li><a href="#turn-legacy-device-into-webusb-compatible-device"><span>Turn legacy <wbr/>Device into <wbr/>Web<wbr/>USB compatible device</span></a></li><li><a href="#use-webusb-approach-to-find-a-device"><span>Use <wbr/>Web<wbr/>USB approach to find a device</span></a></li><li><a href="#use-webusb-approach-to-find-a-device-with-custom-selection-method"><span>Use <wbr/>Web<wbr/>USB approach to find a device with custom selection method</span></a></li><li><a href="#use-webusb-approach-to-list-authorised-devices"><span>Use <wbr/>Web<wbr/>USB approach to list authorised devices</span></a></li><li><a href="#use-webusb-approach-to-list-all-devices"><span>Use <wbr/>Web<wbr/>USB approach to list all devices</span></a></li><li><a href="#electron"><span>Electron</span></a></li></ul><a href="#apis"><span>AP<wbr/>Is</span></a><ul><li><a href="#convenience-functions"><span>Convenience <wbr/>Functions</span></a></li><li><ul><li><a href="#getdevicelist-1"><span>get<wbr/>Device<wbr/>List()</span></a></li><li><a href="#findbyidsvid-pid"><span>find<wbr/>By<wbr/>Ids(vid, pid)</span></a></li><li><a href="#findbyserialnumberserialnumber"><span>find<wbr/>By<wbr/>Serial<wbr/>Number(serial<wbr/>Number)</span></a></li><li><a href="#getwebusb"><span>get<wbr/>Web<wbr/>Usb()</span></a></li><li><a href="#webusbdevice"><span>Web<wbr/>USB<wbr/>Device</span></a></li><li><ul><li><a href="#webusbdevicecreateinstancedevice"><span>Web<wbr/>USB<wbr/>Device.create<wbr/>Instance(device)</span></a></li></ul></li></ul></li><li><a href="#webusb"><span>Web<wbr/>USB</span></a></li><li><ul><li><a href="#implementation-status"><span>Implementation <wbr/>Status</span></a></li><li><ul><li><a href="#usb"><span>USB</span></a></li><li><a href="#usbdevice"><span>USB<wbr/>Device</span></a></li><li><a href="#events"><span>Events</span></a></li></ul></li></ul></li><li><a href="#legacy-api"><span>Legacy <wbr/>API</span></a></li><li><ul><li><a href="#usb-1"><span>usb</span></a></li><li><ul><li><a href="#usblibusb_"><span>usb.<wbr/>LIBUSB_<wbr/>*</span></a></li><li><a href="#usbgetdevicelist"><span>usb.get<wbr/>Device<wbr/>List()</span></a></li><li><a href="#usbpollhotplug"><span>usb.poll<wbr/>Hotplug</span></a></li><li><a href="#usbsetdebuglevellevel-int"><span>usb.set<wbr/>Debug<wbr/>Level(level : int)</span></a></li><li><a href="#usbuseusbdkbackend"><span>usb.use<wbr/>Usb<wbr/>Dk<wbr/>Backend()</span></a></li></ul></li><li><a href="#device-1"><span>Device</span></a></li><li><ul><li><a href="#busnumber"><span>.bus<wbr/>Number</span></a></li><li><a href="#deviceaddress"><span>.device<wbr/>Address</span></a></li><li><a href="#portnumbers"><span>.port<wbr/>Numbers</span></a></li><li><a href="#devicedescriptor"><span>.device<wbr/>Descriptor</span></a></li><li><a href="#configdescriptor"><span>.config<wbr/>Descriptor</span></a></li><li><a href="#allconfigdescriptors"><span>.all<wbr/>Config<wbr/>Descriptors</span></a></li><li><a href="#parent"><span>.parent</span></a></li><li><a href="#open"><span>.open()</span></a></li><li><a href="#close"><span>.close()</span></a></li><li><a href="#controltransferbmrequesttype-brequest-wvalue-windex-data_or_length-callbackerror-data"><span>.control<wbr/>Transfer(bm<wbr/>Request<wbr/>Type, b<wbr/>Request, w<wbr/>Value, w<wbr/>Index, data_<wbr/>or_<wbr/>length, callback(error, data))</span></a></li><li><a href="#setconfigurationid-callbackerror"><span>.set<wbr/>Configuration(id, callback(error))</span></a></li><li><a href="#getstringdescriptorindex-callbackerror-data"><span>.get<wbr/>String<wbr/>Descriptor(index, callback(error, data))</span></a></li><li><a href="#getbosdescriptorcallbackerror-bosdescriptor"><span>.get<wbr/>Bos<wbr/>Descriptor(callback(error, bos<wbr/>Descriptor))</span></a></li><li><a href="#getcapabilitiescallbackerror-capabilities"><span>.get<wbr/>Capabilities(callback(error, capabilities))</span></a></li><li><a href="#interfaceinterface"><span>.interface(interface)</span></a></li><li><a href="#interfaces"><span>.interfaces</span></a></li><li><a href="#timeout"><span>.timeout</span></a></li><li><a href="#resetcallbackerror"><span>.reset(callback(error))</span></a></li><li><a href="#setautodetachkerneldriverenable"><span>.set<wbr/>Auto<wbr/>Detach<wbr/>Kernel<wbr/>Driver(enable)</span></a></li></ul></li><li><a href="#interface"><span>Interface</span></a></li><li><ul><li><a href="#endpointaddress"><span>.endpoint(address)</span></a></li><li><a href="#endpoints"><span>.endpoints</span></a></li><li><a href="#interface-1"><span>.interface</span></a></li><li><a href="#altsetting"><span>.alt<wbr/>Setting</span></a></li><li><a href="#setaltsettingaltsetting-callbackerror"><span>.set<wbr/>Alt<wbr/>Setting(alt<wbr/>Setting, callback(error))</span></a></li><li><a href="#claim"><span>.claim()</span></a></li><li><a href="#releasecloseendpoints-callbackerror"><span>.release([close<wbr/>Endpoints], callback(error))</span></a></li><li><a href="#iskerneldriveractive"><span>.is<wbr/>Kernel<wbr/>Driver<wbr/>Active()</span></a></li><li><a href="#detachkerneldriver"><span>.detach<wbr/>Kernel<wbr/>Driver()</span></a></li><li><a href="#attachkerneldriver"><span>.attach<wbr/>Kernel<wbr/>Driver()</span></a></li><li><a href="#descriptor"><span>.descriptor</span></a></li></ul></li><li><a href="#capability"><span>Capability</span></a></li><li><ul><li><a href="#type"><span>.type</span></a></li><li><a href="#data"><span>.data</span></a></li><li><a href="#descriptor-1"><span>.descriptor</span></a></li></ul></li><li><a href="#endpoint"><span>Endpoint</span></a></li><li><ul><li><a href="#direction"><span>.direction</span></a></li><li><a href="#transfertype"><span>.transfer<wbr/>Type</span></a></li><li><a href="#descriptor-2"><span>.descriptor</span></a></li><li><a href="#timeout-1"><span>.timeout</span></a></li><li><a href="#clearhaltcallbackerror"><span>.clear<wbr/>Halt(callback(error))</span></a></li></ul></li><li><a href="#inendpoint"><span>In<wbr/>Endpoint</span></a></li><li><ul><li><a href="#transferlength-callbackerror-data"><span>.transfer(length, callback(error, data))</span></a></li><li><a href="#startpollntransfers3-transfersizemaxpacketsize"><span>.start<wbr/>Poll(n<wbr/>Transfers=3, transfer<wbr/>Size=max<wbr/>Packet<wbr/>Size)</span></a></li><li><a href="#stoppollcb"><span>.stop<wbr/>Poll(cb)</span></a></li><li><a href="#event-datadata-buffer"><span>Event: data(data : <wbr/>Buffer)</span></a></li><li><a href="#event-errorerror"><span>Event: error(error)</span></a></li><li><a href="#event-end"><span>Event: end</span></a></li></ul></li><li><a href="#outendpoint"><span>Out<wbr/>Endpoint</span></a></li><li><ul><li><a href="#transferdata-callbackerror"><span>.transfer(data, callback(error))</span></a></li><li><a href="#event-errorerror-1"><span>Event: error(error)</span></a></li><li><a href="#event-end-1"><span>Event: end</span></a></li></ul></li><li><a href="#usbdetection"><span>Usb<wbr/>Detection</span></a></li><li><ul><li><a href="#usbonattach-functiondevice-"><span>usb.on(&#39;attach&#39;, function(device) { ... });</span></a></li><li><a href="#usbondetach-functiondevice-"><span>usb.on(&#39;detach&#39;, function(device) { ... });</span></a></li><li><a href="#usbrefhotplugevents"><span>usb.ref<wbr/>Hotplug<wbr/>Events();</span></a></li><li><a href="#usbunrefhotplugevents"><span>usb.unref<wbr/>Hotplug<wbr/>Events();</span></a></li></ul></li></ul></li></ul><a href="#migrating-from-node-usb-detection"><span>Migrating from node-<wbr/>usb-<wbr/>detection</span></a><ul><li><a href="#usbdetectstartmonitoring-usbdetectstopmonitoring"><span>usb<wbr/>Detect.start<wbr/>Monitoring() &amp; usb<wbr/>Detect.stop<wbr/>Monitoring()</span></a></li><li><a href="#usbdetectfind"><span>usb<wbr/>Detect.find()</span></a></li><li><a href="#usbdetectonadd-functiondevice-"><span>usb<wbr/>Detect.on(&#39;add&#39;, function(device) { ... })</span></a></li><li><a href="#usbdetectonremove-functiondevice-"><span>usb<wbr/>Detect.on(&#39;remove&#39;, function(device) { ... })</span></a></li><li><a href="#usbdetectonchange-functiondevice-"><span>usb<wbr/>Detect.on(&#39;change&#39;, function(device) { ... })</span></a></li></ul><a href="#development"><span>Development</span></a><ul><li><a href="#setup"><span>Setup</span></a></li><li><a href="#building"><span>Building</span></a></li><li><a href="#testing"><span>Testing</span></a></li><li><a href="#releasing"><span>Releasing</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html">Node USB</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer></footer><div class="overlay"></div></body></html>
